import{a as z,b as H}from"./chunk-HNCPZDNA.js";import{a as U}from"./chunk-YRKAEIR6.js";import"./chunk-WPJBXBS6.js";import{a as V,b as P,c as k,f as D,h as R,i as j,j as q,k as L,l as G,m as $,q as J}from"./chunk-KO6AOLOM.js";import"./chunk-6WCWFBRW.js";import{$a as S,Cb as O,Da as F,La as A,Ma as w,Sa as B,Ta as v,Za as n,_a as i,a as M,b as y,ba as b,bb as T,e as f,f as E,g as C,h as I,ib as o,lb as x,mb as _,sa as N}from"./chunk-4SLXKAUT.js";var p=class{static equal(e,r){return e.integer===r.integer&&e.fraction===r.fraction}constructor(e){this.integer=e.integer,this.fraction=e.fraction}toNumber(){return Number.parseFloat(this.toString())}toString(){return`${this.integer}.${this.fraction}`}toJSON(){let{integer:e,fraction:r}=this;return{integer:e,fraction:r}}};function K(l){let e={},{value:r}=l,{integer:s,fraction:u}=r,c=[];return Number.isInteger(s)||c.push("integer"),Number.isInteger(u)||c.push("fraction"),c.length>0&&Object.assign(e,{decimalTypeError:c}),u<0&&Object.assign(e,{decimalRangeError:"fraction"}),Object.keys(e).length>0?e:null}var Q=(()=>{var e,r,s,u,W;let m=class m{constructor(){E(this,u);E(this,e);E(this,r);E(this,s);this.value=w(new p({integer:0,fraction:0})),C(this,e,O(()=>this.value(),{equal:p.equal})),this.placeholder=N(),this.placeholders=O(()=>I(this,u,W).call(this,this.placeholder())),C(this,r,t=>{}),C(this,s,()=>{}),this.touched=A(!1),this.disabled=A(!1)}registerOnChange(t){C(this,r,t)}registerOnTouched(t){C(this,s,t)}registerOnValidatorChange(t){}setDisabledState(t){this.disabled.set(t)}validate(t){return K(t)}writeValue(t){this.value.set(new p(t))}markAsTouch(){this.touched()||(f(this,s).call(this),this.touched.set(!0))}onFocus(){this.markAsTouch()}onChangeInteger(t){this.disabled()||(this.value.update(d=>new p(y(M({},d),{integer:t}))),f(this,r).call(this,f(this,e).call(this)))}onChangeFraction(t){this.disabled()||(this.value.update(d=>new p(y(M({},d),{fraction:t}))),f(this,r).call(this,f(this,e).call(this)))}};e=new WeakMap,r=new WeakMap,s=new WeakMap,u=new WeakSet,W=function(t){if(!t)return;let[d,a]=t.split(/\s/);return{integer:d,fraction:a}},m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=b({type:m,selectors:[["app-decimal-input"]],inputs:{value:[1,"value"],placeholder:[1,"placeholder"]},outputs:{value:"valueChange"},standalone:!0,features:[x([{provide:V,useExisting:m,multi:!0},{provide:k,useExisting:m,multi:!0}]),_],decls:3,vars:6,consts:[["type","number",1,"integer",3,"focus","ngModelChange","ngModel","disabled"],["type","number",1,"fraction",3,"focus","ngModelChange","ngModel","disabled"]],template:function(d,a){if(d&1&&(n(0,"input",0),T("focus",function(){return a.onFocus()})("ngModelChange",function(h){return a.onChangeInteger(h)}),i(),o(1,"."),n(2,"input",1),T("focus",function(){return a.onFocus()})("ngModelChange",function(h){return a.onChangeFraction(h)}),i()),d&2){let g,h;v("ngModel",a.value().integer)("disabled",a.disabled()),B("placeholder",(g=a.placeholders())==null?null:g.integer),F(2),v("ngModel",a.value().fraction)("disabled",a.disabled()),B("placeholder",(h=a.placeholders())==null?null:h.fraction)}},dependencies:[G,P,q,D,j],styles:["input[_ngcontent-%COMP%]{width:4rem}.integer[_ngcontent-%COMP%]{text-align:right}"]});let l=m;return l})();var ge=(()=>{let e=class e{constructor(){this.control=new R({integer:0,fraction:0})}get value(){return this.control.value}};e.\u0275fac=function(u){return new(u||e)},e.\u0275cmp=b({type:e,selectors:[["app-decimal-input-page"]],standalone:!0,features:[_],decls:34,vars:2,consts:[[1,"title"],[1,"description"],[1,"type"],[1,"inputs"],[1,"validation"],["label","\u5B9F\u6570\u5165\u529B"],[3,"formControl"],[1,"commands"],[3,"control"]],template:function(u,c){u&1&&(n(0,"article")(1,"app-control-page-template")(2,"span",0),o(3,"Decimal Input"),i(),n(4,"div",1),o(5,"\u5B9F\u6570\u5024\u3092\u5165\u529B\u3059\u308B\u30B3\u30F3\u30DD\u30FC\u30CD\u30F3\u30C8\u3002\u6574\u6570\u90E8\u3001\u5C0F\u6570\u90E8\u3067\u5165\u529B\u3059\u308B\u3002"),i(),n(6,"div",2),o(7," DecimalTemplate "),n(8,"div")(9,"pre"),o(10,`    {
      integer: number;
      fraction: number;
    |`),i()()(),n(11,"div",3)(12,"app-data-list")(13,"dt"),o(14,"placeholder"),i(),n(15,"dd"),o(16,"string"),i(),n(17,"dd"),o(18,"\u30D7\u30EC\u30FC\u30B9\u30DB\u30EB\u30C0\u30FC\u3002"),S(19,"br"),o(20,"\u30B9\u30DA\u30FC\u30B9\u533A\u5207\u308A\u3067\u5B9F\u6570\u90E8\u3068\u5C0F\u6570\u90E8\u3092\u6307\u5B9A\u3059\u308B\u3002"),i()()(),n(21,"div",4)(22,"ul")(23,"li"),o(24,"\u6574\u6570\u90E8\u304C\u6574\u6570\u3067\u306A\u3044\u5834\u5408\u30A8\u30E9\u30FC\u3002"),i(),n(25,"li"),o(26,"\u5C0F\u6570\u90E8\u304C\u6574\u6570\u3067\u306A\u3044\u5834\u5408\u30A8\u30E9\u30FC"),i(),n(27,"li"),o(28,"\u5C0F\u6570\u90E8\u304C\u8CA0\u306E\u5834\u5408\u30A8\u30E9\u30FC"),i()()(),n(29,"div")(30,"app-control-field",5),S(31,"app-decimal-input",6),i()(),n(32,"div",7),S(33,"app-control-command-set",8),i()()()),u&2&&(F(31),v("formControl",c.control),F(2),v("control",c.control))},dependencies:[$,D,L,Q,J,H,z,U],styles:["pre[_ngcontent-%COMP%]{padding:1rem;background-color:#ddd;display:inline-block}"]});let l=e;return l})();export{ge as DecimalInputPageComponent};
