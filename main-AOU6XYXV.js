import{b as ge,c as A,e as Ce,f as ve,g as be,h as ye,i as xe,j as H,k as Se,l as z,m as De,n as Me,o as E,p as Oe,q as J,r as Ee,s as Pe,t as P,u as _e}from"./chunk-XMMGAN2Z.js";import{b as fe,c as he,e as Fe,f as Ie,h as we}from"./chunk-CVVNKEPP.js";import{k as de,s as V,t as Re,u as ke}from"./chunk-GR5DLLFE.js";import{$a as ie,Fb as me,Ia as c,Lb as Q,Mb as pe,Q as F,Qa as D,Ra as oe,Sa as re,T as X,W as v,Ya as G,_ as f,_a as g,ab as B,bb as ae,cb as I,db as w,eb as l,fb as s,ga as Y,gb as b,h as W,ia as ee,ib as $,jb as se,ka as te,kb as R,lb as k,ma as ne,mb as le,na as x,nb as ce,ob as ue,pb as u,qb as O,rb as U,sb as T,tb as h,vb as j}from"./chunk-UGCR44YA.js";import{c as p,d as C,e as d}from"./chunk-LGQH6H42.js";var Te=[{path:"",loadComponent:()=>import("./chunk-R7VO26RU.js").then(e=>e.TopPageComponent)},{path:"controls/:control",loadComponent:()=>import("./chunk-HHFFNBVB.js").then(e=>e.ControlPageComponent),children:[{path:"",loadChildren:()=>import("./chunk-LGFY3UGK.js").then(e=>e.controlPageRoute)}]}];var L=new X("APP_VALIDATION_MESSAGES"),je=(()=>{var t,r;let i=class i{constructor(){C(this,t);C(this,r,(o,a)=>Object.assign(o,a));let o=v(L);d(this,t,o.reduce(p(this,r),{}))}getMessage(o){return o===null?[]:Object.entries(o).map(([m,y])=>{let S=p(this,t)[m];return typeof S=="string"?S:S(y)})}};t=new WeakMap,r=new WeakMap,i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=F({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var Ae={min:e=>`${e.min}\u4EE5\u4E0A\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044`,max:e=>`${e.max}\u4EE5\u4E0B\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044`,required:"\u5FC5\u9808\u5165\u529B\u3067\u3059",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u5F62\u5F0F\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",minLength:e=>`${e.requiredLength}\u6587\u5B57\u4EE5\u4E0A\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044`,maxLength:e=>`${e.requiredLength}\u6587\u5B57\u4EE5\u4E0B\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044`,pattern:e=>`\u30D1\u30BF\u30FC\u30F3${e.requiredPattern}\u306B\u4E00\u81F4\u3055\u305B\u3066\u304F\u3060\u3055\u3044`,nullValidator:e=>""};var Ve={jsonSyntax:e=>"Json\u30D5\u30A9\u30FC\u30DE\u30C3\u30C8\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002"};function _(e){return e!=null}function N(e,t){!t?.injector&&Y(N);let r=t?.injector??v(te),i=new W(1),n=pe(()=>{let o;try{o=e()}catch(a){Q(()=>i.error(a));return}Q(()=>i.next(o))},{injector:r,manualCleanup:!0});return r.get(ne).onDestroy(()=>{n.destroy(),i.complete()}),i.asObservable()}var q=(()=>{var t,r,i;let n=class n{constructor(){C(this,t);C(this,r);C(this,i);this.value=oe(0),this.disabled=D(!1),this.touched=D(!1),this.increment=x(1),this.min=x(),this.max=x(),d(this,t,a=>{}),d(this,r,()=>{}),d(this,i,()=>{}),N(this.min).subscribe(p(this,i)),N(this.max).subscribe(p(this,i))}registerOnChange(a){d(this,t,a)}registerOnTouched(a){d(this,r,a)}registerOnValidatorChange(a){d(this,i,a)}setDisabledState(a){this.disabled.set(a)}writeValue(a){this.value.set(a)}onIncrease(){this.markAsDirty();let a=this.max();_(a)&&this.value()>=a||this.disabled()||(this.value.update(m=>m+this.increment()),p(this,t).call(this,this.value()))}onReduce(){if(this.markAsDirty(),this.disabled())return;let a=this.min();_(a)&&this.value()<=a||(this.value.update(m=>m-this.increment()),p(this,t).call(this,this.value()))}markAsDirty(){this.touched()||p(this,r).call(this)}validate(a){let m=this.min(),y=_(m)?H.min(m)(a):null,S=this.max(),He=_(S)?H.max(S)(a):null;return y||He}};t=new WeakMap,r=new WeakMap,i=new WeakMap,n.\u0275fac=function(m){return new(m||n)},n.\u0275cmp=f({type:n,selectors:[["app-counter"]],inputs:{value:[1,"value"],increment:[1,"increment"],min:[1,"min"],max:[1,"max"]},outputs:{value:"valueChange"},standalone:!0,features:[T([{provide:be,useExisting:n,multi:!0},{provide:xe,useExisting:n,multi:!0}]),h],decls:6,vars:3,consts:[[3,"click","disabled"]],template:function(m,y){m&1&&(l(0,"button",0),$("click",function(){return y.onReduce()}),u(1,"-"),s(),l(2,"output"),u(3),s(),l(4,"button",0),$("click",function(){return y.onIncrease()}),u(5,"+"),s()),m&2&&(g("disabled",y.disabled()),c(3),O(y.value()),c(),g("disabled",y.disabled()))},styles:["output[_ngcontent-%COMP%]{display:inline-block;min-width:3rem;text-align:center}"]});let e=n;return e})();var ze=["*"],Le=(()=>{let t=class t{constructor(){this.hasError=x.required()}get invalid(){return this.hasError()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=f({type:t,selectors:[["app-control-decorator"]],hostVars:2,hostBindings:function(n,o){n&2&&ie("app-control-decorator-has-error",o.invalid)},inputs:{hasError:[1,"hasError"]},standalone:!0,features:[h],ngContentSelectors:ze,decls:1,vars:0,template:function(n,o){n&1&&(R(),k(0))},styles:[`.app-control-decorator-has-error *{color:#ff6969;border-color:#ff6969}
`],encapsulation:2});let e=t;return e})();var Je=["*"],Ze=e=>({error:e});function Ke(e,t){if(e&1&&u(0),e&2){let r=se();U(" ",r.controlRef.value," ")}}function We(e,t){e&1&&k(0)}function Xe(e,t){e&1&&(l(0,"div",2),b(1,"span")(2,"span")(3,"span"),s())}function Ye(e,t){if(e&1&&(l(0,"span",3),u(1),s()),e&2){let r=t.$implicit;c(),O(r)}}var Z=(()=>{let t=class t{constructor(){this.label=x(""),this.readonly=x(!1),this.messages=D([]),this.messageService=v(je)}get hasError(){return(this.controlRef?.touched&&this.controlRef?.invalid)??!1}get loading(){return this.controlRef?.pending??!1}ngAfterContentInit(){this.controlRef.control?.events.subscribe(()=>{let i=this.controlRef.errors;this.messages.set(this.messageService.getMessage(i))})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=f({type:t,selectors:[["app-control-field"]],contentQueries:function(n,o,a){if(n&1&&le(a,Se,5),n&2){let m;ce(m=ue())&&(o.controlRef=m.first)}},inputs:{label:[1,"label"],readonly:[1,"readonly"]},standalone:!0,features:[h],ngContentSelectors:Je,decls:8,vars:7,consts:[["appLabel","",3,"ngClass"],[3,"hasError"],[1,"loader"],["appLabel","",1,"error"]],template:function(n,o){n&1&&(R(),l(0,"label",0),u(1),s(),l(2,"app-control-decorator",1),G(3,Ke,1,1)(4,We,1,0),s(),G(5,Xe,4,0,"div",2),I(6,Ye,2,1,"span",3,ae)),n&2&&(g("ngClass",j(5,Ze,o.hasError)),c(),U(" ",o.label(),`
`),c(),g("hasError",o.hasError),c(),B(o.readonly()?3:4),c(2),B(o.loading?5:-1),c(),w(o.messages()))},dependencies:[_e,Le,de,P],styles:["[_nghost-%COMP%]{display:inline-flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#ff6969}.loader[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;gap:.2rem;margin:.2rem 0}.loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:.5rem;height:.5rem;background-color:#333;border-radius:50%;animation:_ngcontent-%COMP%_loading 1s ease-in-out infinite}.loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_loading{0%{background-color:#333c}50%{background-color:#3333334d}to{background-color:#3339}}"]});let e=t;return e})();var Ne="fieldset[_ngcontent-%COMP%]{width:fit-content;padding:.5rem}",et=(()=>{let t=class t extends q{constructor(){super(...arguments),this.control=new E(0)}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=ee(t)))(o||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-counter-doc"]],standalone:!0,features:[re,h],decls:2,vars:3,consts:[["label","Counter"],[3,"formControl","min","max"]],template:function(n,o){n&1&&(l(0,"app-control-field",0),b(1,"app-counter",1),s()),n&2&&(c(),g("formControl",o.control)("min",o.min())("max",o.max()))},dependencies:[q,P,z,J,Z],styles:[Ne]});let e=t;return e})(),tt=(()=>{let t=class t{constructor(){this.control=new E(0),this.setting=new Me({min:new E(0,{nonNullable:!0}),max:new E(10,{nonNullable:!0})})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=f({type:t,selectors:[["app-counter-doc"]],standalone:!0,features:[h],decls:9,vars:4,consts:[["label","Counter"],[3,"formControl","min","max"],[3,"formGroup"],["label","min"],["type","number","formControlName","min"],["label","max"],["type","number","formControlName","max"]],template:function(n,o){n&1&&(l(0,"app-control-field",0),b(1,"app-counter",1),s(),l(2,"fieldset",2)(3,"legend"),u(4,"Settings"),s(),l(5,"app-control-field",3),b(6,"input",4),s(),l(7,"app-control-field",5),b(8,"input",6),s()()),n&2&&(c(),g("formControl",o.control)("min",o.setting.value.min)("max",o.setting.value.max),c(),g("formGroup",o.setting))},dependencies:[q,P,ye,Oe,z,De,J,Ee,Pe,Z],styles:[Ne]});let e=t;return e})(),nt={counter:[{title:"\u30C7\u30E2",component:et},{title:"\u5165\u529B\u7BC4\u56F2\u3092\u5236\u9650\u3059\u308B",component:tt}]},qe={provide:V,useValue:nt,multi:!0};var ot={decimalInput:[]},Ge={provide:V,useValue:ot,multi:!0};var rt=[qe,Ge];function Be(){return rt}var $e={providers:[me(),Ce(Te),fe(),we({clipboardOptions:{provide:Ie,useValue:{buttonComponent:Fe}}}),Be(),{provide:L,useValue:Ae,multi:!0},{provide:L,useValue:Ve,multi:!0}]};var K=(()=>{var t;let r=class r{constructor(){C(this,t);d(this,t,v(Re))}getPageList(){return p(this,t).controlNames().map(n=>({path:n,label:ke(n)})).filter(n=>!!n.path).sort()}};t=new WeakMap,r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=F({token:r,factory:r.\u0275fac});let e=r;return e})();var it=(e,t)=>t.path,at=e=>["controls",e];function st(e,t){if(e&1&&(l(0,"li")(1,"a",0),u(2),s()()),e&2){let r=t.$implicit;c(),g("routerLink",j(2,at,r.path)),c(),O(r.label)}}var Ue=(()=>{var t;let r=class r{constructor(){C(this,t);d(this,t,v(K)),this.list=D(p(this,t).getPageList())}};t=new WeakMap,r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=f({type:r,selectors:[["app-control-list-page"]],standalone:!0,features:[T([K]),h],decls:5,vars:0,consts:[[3,"routerLink"]],template:function(o,a){o&1&&(l(0,"h3"),u(1,` \u30B3\u30F3\u30C8\u30ED\u30FC\u30EB\u4E00\u89A7
`),s(),l(2,"ul"),I(3,st,3,4,"li",null,it),s()),o&2&&(c(3),w(a.list()))},dependencies:[ve,A],styles:["h3[_ngcontent-%COMP%]{font-size:.8rem}li[_ngcontent-%COMP%]{list-style:none;padding-left:.5rem}"]});let e=r;return e})();var Qe=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=f({type:t,selectors:[["app-root"]],standalone:!0,features:[h],decls:13,vars:0,consts:[["routerLink","/"],[1,"main"],[1,"content"]],template:function(n,o){n&1&&(l(0,"header")(1,"h1")(2,"a",0),u(3,"Control catalog"),s()(),l(4,"p"),u(5,"Angular Custom Control idea catalogs."),s()(),l(6,"nav")(7,"h2"),u(8,"Menu"),s(),b(9,"app-control-list-page"),s(),l(10,"main",1)(11,"div",2),b(12,"router-outlet"),s()())},dependencies:[ge,Ue,A],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:10rem auto;grid-template-rows:5rem auto}header[_ngcontent-%COMP%]{grid-column:1/3;background-color:#555;color:#fff}header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}nav[_ngcontent-%COMP%]{padding:1rem;text-underline:none}nav[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}"]});let e=t;return e})();he(Qe,$e).catch(e=>console.error(e));
