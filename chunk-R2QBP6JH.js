import{a as V,b as A,c as B,d as _,e as k,f as x,g as P,h as R,i as j,j as q,k as G}from"./chunk-W43533Y4.js";import{$a as I,Ca as S,Da as T,Ka as g,Pa as s,Qa as l,Ra as O,Sa as E,Z as C,Za as p,a as y,ab as b,b as D,c as f,d as h,e as d,ob as N,pb as w,ua as v}from"./chunk-7OPABYIL.js";var c=class{static equal(e,i){return e.integer===i.integer&&e.fraction===i.fraction}constructor(e){this.integer=e.integer,this.fraction=e.fraction}toNumber(){return Number.parseFloat(this.toString())}toString(){return`${this.integer}.${this.fraction}`}toJSON(){let{integer:e,fraction:i}=this;return{integer:e,fraction:i}}};function L(o){let e={},{value:i}=o,{integer:r,fraction:n}=i,m=[];return Number.isInteger(r)||m.push("integer"),Number.isInteger(n)||m.push("fraction"),m.length>0&&Object.assign(e,{decimalTypeError:m}),n<0&&Object.assign(e,{decimalRangeError:"fraction"}),Object.keys(e).length>0?e:null}var $=(()=>{var e,i,r;let n=class n{constructor(){h(this,e);h(this,i);h(this,r);this.value=T(new c({integer:0,fraction:0})),d(this,e,N(()=>this.value(),{equal:c.equal})),d(this,i,t=>{}),d(this,r,()=>{}),this.touched=S(!1),this.disabled=S(!1),w(()=>{f(this,i).call(this,f(this,e).call(this))})}registerOnChange(t){d(this,i,t)}registerOnTouched(t){d(this,r,t)}registerOnValidatorChange(t){}setDisabledState(t){this.disabled.set(t)}validate(t){return L(t)}writeValue(t){this.value.set(new c(t))}markAsTouch(){this.touched()||(f(this,r).call(this),this.touched.set(!0))}onFocus(){this.markAsTouch()}onChangeInteger(t){this.value.update(a=>new c(D(y({},a),{integer:t})))}onChangeFraction(t){this.value.update(a=>new c(D(y({},a),{fraction:t}))),console.log(this.value())}};e=new WeakMap,i=new WeakMap,r=new WeakMap,n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=C({type:n,selectors:[["app-decimal-input"]],inputs:{value:[1,"value"]},outputs:{value:"valueChange"},standalone:!0,features:[I([{provide:V,useExisting:n,multi:!0},{provide:B,useExisting:n,multi:!0}]),b],decls:3,vars:4,consts:[["type","number",1,"integer",3,"focus","ngModelChange","ngModel","disabled"],["type","number",1,"fraction",3,"focus","ngModelChange","ngModel","disabled"]],template:function(a,u){a&1&&(s(0,"input",0),E("focus",function(){return u.onFocus()})("ngModelChange",function(M){return u.onChangeInteger(M)}),l(),p(1,"."),s(2,"input",1),E("focus",function(){return u.onFocus()})("ngModelChange",function(M){return u.onChangeFraction(M)}),l()),a&2&&(g("ngModel",u.value().integer)("disabled",u.disabled()),v(2),g("ngModel",u.value().fraction)("disabled",u.disabled()))},dependencies:[j,A,P,_,x],styles:["input[_ngcontent-%COMP%]{width:4rem}.integer[_ngcontent-%COMP%]{text-align:right}"]});let o=n;return o})();var oe=(()=>{let e=class e{constructor(){this.control=new k({integer:0,fraction:0})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=C({type:e,selectors:[["app-decimal-input-page"]],standalone:!0,features:[b],decls:12,vars:1,consts:[[1,"title"],[1,"description"],[1,"type"],[3,"formControl"]],template:function(n,m){n&1&&(s(0,"article")(1,"app-control-page-template")(2,"span",0),p(3,"Decimal Input"),l(),s(4,"div",1),p(5,"\u5B9F\u6570\u5024\u3092\u5165\u529B\u3059\u308B\u30B3\u30F3\u30DD\u30FC\u30CD\u30F3\u30C8\u3002\u6574\u6570\u90E8\u3001\u5C0F\u6570\u90E8\u3067\u5165\u529B\u3059\u308B\u3002"),l(),s(6,"div",2),p(7," DecimalTemplate "),s(8,"div")(9,"pre"),p(10,`    {
      integer: number;
      fraction: number;
    |`),l()()(),O(11,"app-decimal-input",3),l()()),n&2&&(v(11),g("formControl",m.control))},dependencies:[q,_,R,$,G],styles:["pre[_ngcontent-%COMP%]{padding:1rem;background-color:#ddd;display:inline-block}"]});let o=e;return o})();export{oe as DecimalInputPageComponent};
