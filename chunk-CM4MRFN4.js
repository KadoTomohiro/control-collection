import{a as K,e as W,p as X,q as Y}from"./chunk-7D2BGXGL.js";import{$a as A,Ka as u,Mb as D,Q as I,Sa as h,T,W as y,Za as S,_ as b,_b as J,aa as j,ab as w,bb as F,cb as k,db as L,eb as N,fb as g,gb as C,hb as B,lb as G,mb as _,nb as E,oa as R,ob as Q,pa as l,pb as q,qb as H,rb as O,sb as U,tb as P,ub as $,vb as x,xb as z}from"./chunk-UZRRW7DA.js";import{e as f,f as d,g as p,h as v}from"./chunk-2RYEIVLG.js";var oe=["*"],Z=(()=>{let e=class e{constructor(){this.hasError=l.required()}get invalid(){return this.hasError()}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=b({type:e,selectors:[["app-control-decorator"]],hostVars:2,hostBindings:function(s,i){s&2&&w("app-control-decorator-has-error",i.invalid)},inputs:{hasError:[1,"hasError"]},standalone:!0,features:[x],ngContentSelectors:oe,decls:1,vars:0,template:function(s,i){s&1&&(_(),E(0))},styles:[`.app-control-decorator-has-error *{color:#ff6969;border-color:#ff6969}
`],encapsulation:2});let n=e;return n})();var ie=new T("APP_VALIDATION_MESSAGES"),ee=(()=>{var e,r;let o=class o{constructor(){d(this,e);d(this,r,(i,m)=>Object.assign(i,m));let i=y(ie);p(this,e,i.reduce(f(this,r),{}))}getMessage(i){return i===null?[]:Object.entries(i).map(([a,te])=>{let t=f(this,e)[a];return typeof t=="string"?t:t(te)})}};e=new WeakMap,r=new WeakMap,o.\u0275fac=function(m){return new(m||o)},o.\u0275prov=I({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();var re=["*"],se=n=>({error:n});function ae(n,e){if(n&1&&O(0),n&2){let r=G();P(" ",r.controlRef.value," ")}}function le(n,e){n&1&&E(0)}function ce(n,e){n&1&&(g(0,"div",2),B(1,"span")(2,"span")(3,"span"),C())}function de(n,e){if(n&1&&(g(0,"span",3),O(1),C()),n&2){let r=e.$implicit;u(),U(r)}}var Te=(()=>{let e=class e{constructor(){this.label=l(""),this.readonly=l(!1),this.messages=h([]),this.messageService=y(ee)}get hasError(){return(this.controlRef?.touched&&this.controlRef?.invalid)??!1}get loading(){return this.controlRef?.pending??!1}ngAfterContentInit(){this.controlRef.control?.events.subscribe(()=>{let o=this.controlRef.errors;this.messages.set(this.messageService.getMessage(o))})}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=b({type:e,selectors:[["app-control-field"]],contentQueries:function(s,i,m){if(s&1&&Q(m,W,5),s&2){let a;q(a=H())&&(i.controlRef=a.first)}},inputs:{label:[1,"label"],readonly:[1,"readonly"]},standalone:!0,features:[x],ngContentSelectors:re,decls:8,vars:7,consts:[["appLabel","",3,"ngClass"],[3,"hasError"],[1,"loader"],["appLabel","",1,"error"]],template:function(s,i){s&1&&(_(),g(0,"label",0),O(1),C(),g(2,"app-control-decorator",1),S(3,ae,1,1)(4,le,1,0),C(),S(5,ce,4,0,"div",2),L(6,de,2,1,"span",3,k)),s&2&&(A("ngClass",z(5,se,i.hasError)),u(),P(" ",i.label(),`
`),u(),A("hasError",i.hasError),u(),F(i.readonly()?3:4),u(2),F(i.loading?5:-1),u(),N(i.messages()))},dependencies:[Y,Z,J,X],styles:["[_nghost-%COMP%]{display:inline-flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#ff6969}.loader[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;gap:.2rem;margin:.2rem 0}.loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:.5rem;height:.5rem;background-color:#333;border-radius:50%;animation:_ngcontent-%COMP%_loading 1s ease-in-out infinite}.loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_loading{0%{background-color:#333c}50%{background-color:#3333334d}to{background-color:#3339}}"]});let n=e;return n})();var Le=(()=>{var e,r,o,M,pe,ue;let a=class a{constructor(){d(this,o);d(this,e);d(this,r);this.options=l([]),this.selected=h(null),this.selectedValue=D(()=>this.selected()?.value),this.selectedLabel=D(()=>this.selected()?.label??""),this.multiple=l(!1),this.change=R(),this.disabled=h(!1),this.touched=h(!1),p(this,e,t=>{}),p(this,r,()=>{})}selectValueByIndex(t){v(this,o,M).call(this,this.options()[t])}selectValue(t){let c=this.options().find(ne=>ne.value===t);v(this,o,M).call(this,c)}resetValue(){v(this,o,M).call(this,null)}registerOnChange(t){p(this,e,t)}registerOnTouched(t){p(this,r,t)}setDisabledState(t){this.disabled.set(t)}writeValue(t){console.log(t),this.selectValue(t)}markAsDirty(){this.touched()||(this.touched.set(!0),f(this,r).call(this))}};e=new WeakMap,r=new WeakMap,o=new WeakSet,M=function(t){this.disabled()||(this.markAsDirty(),this.selected.set(t),f(this,e).call(this,this.selectedValue()),this.change.emit(t))},pe=function(t){return Array.isArray(t)?t.map(c=>c.value):t instanceof Option?t.value:null},ue=function(t){return Array.isArray(t)?t.map(c=>c.label):t instanceof Option?t.label:""},a.\u0275fac=function(c){return new(c||a)},a.\u0275dir=j({type:a,selectors:[["","appSelector",""]],inputs:{options:[1,"options"],multiple:[1,"multiple"]},outputs:{change:"change"},standalone:!0,features:[$([{provide:K,useExisting:a,multi:!0}])]});let n=a;return n})();export{ie as a,Te as b,Le as c};
