import{a as W,e as X,r as Y,s as Z}from"./chunk-C3KHJEK6.js";import{$a as R,Ka as m,Lb as T,Q as I,Sa as C,T as V,W as b,Ya as O,Zb as K,_ as g,_a as F,aa as j,ab as D,bb as k,cb as L,db as N,eb as a,fb as l,gb as B,jb as G,kb as Q,lb as x,mb as E,nb as q,oa as w,ob as H,pa as u,pb as U,qb as f,rb as $,sb as P,tb as z,ub as v,wb as J}from"./chunk-R7EF2H7L.js";import{e as h,f as d,g as p,h as _}from"./chunk-2RYEIVLG.js";var ne=["*"],ee=(()=>{let e=class e{constructor(){this.hasError=u.required()}get invalid(){return this.hasError()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-control-decorator"]],hostVars:2,hostBindings:function(r,n){r&2&&R("app-control-decorator-has-error",n.invalid)},inputs:{hasError:[1,"hasError"]},standalone:!0,features:[v],ngContentSelectors:ne,decls:1,vars:0,template:function(r,n){r&1&&(x(),E(0))},styles:[`.app-control-decorator-has-error *{color:#ff6969;border-color:#ff6969}
`],encapsulation:2});let t=e;return t})();var oe=new V("APP_VALIDATION_MESSAGES"),te=(()=>{var e,s;let o=class o{constructor(){d(this,e);d(this,s,(n,c)=>Object.assign(n,c));let n=b(oe);p(this,e,n.reduce(h(this,s),{}))}getMessage(n){return n===null?[]:Object.entries(n).map(([i,y])=>{let S=h(this,e)[i];return typeof S=="string"?S:S(y)})}};e=new WeakMap,s=new WeakMap,o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=I({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();var ie=["*"],re=t=>({error:t});function se(t,e){if(t&1&&f(0),t&2){let s=Q();P(" ",s.controlRef.value," ")}}function ae(t,e){t&1&&E(0)}function le(t,e){t&1&&(a(0,"div",2),B(1,"span")(2,"span")(3,"span"),l())}function ce(t,e){if(t&1&&(a(0,"span",3),f(1),l()),t&2){let s=e.$implicit;m(),$(s)}}var Te=(()=>{let e=class e{constructor(){this.label=u(""),this.readonly=u(!1),this.messages=C([]),this.messageService=b(te)}get hasError(){return(this.controlRef?.touched&&this.controlRef?.invalid)??!1}get loading(){return this.controlRef?.pending??!1}ngAfterContentInit(){this.controlRef.control?.events.subscribe(()=>{let o=this.controlRef.errors;this.messages.set(this.messageService.getMessage(o))})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-control-field"]],contentQueries:function(r,n,c){if(r&1&&q(c,X,5),r&2){let i;H(i=U())&&(n.controlRef=i.first)}},inputs:{label:[1,"label"],readonly:[1,"readonly"]},standalone:!0,features:[v],ngContentSelectors:ie,decls:8,vars:7,consts:[["appLabel","",3,"ngClass"],[3,"hasError"],[1,"loader"],["appLabel","",1,"error"]],template:function(r,n){r&1&&(x(),a(0,"label",0),f(1),l(),a(2,"app-control-decorator",1),O(3,se,1,1)(4,ae,1,0),l(),O(5,le,4,0,"div",2),L(6,ce,2,1,"span",3,k)),r&2&&(F("ngClass",J(5,re,n.hasError)),m(),P(" ",n.label(),`
`),m(),F("hasError",n.hasError),m(),D(n.readonly()?3:4),m(2),D(n.loading?5:-1),m(),N(n.messages()))},dependencies:[Z,ee,K,Y],styles:["[_nghost-%COMP%]{display:inline-flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#ff6969}.loader[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;gap:.2rem;margin:.2rem 0}.loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:.5rem;height:.5rem;background-color:#333;border-radius:50%;animation:_ngcontent-%COMP%_loading 1s ease-in-out infinite}.loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_loading{0%{background-color:#333c}50%{background-color:#3333334d}to{background-color:#3339}}"]});let t=e;return t})();var Re=(()=>{var e,s,o,M;let n=class n{constructor(){d(this,o);d(this,e);d(this,s);this.options=u([]),this.selected=C(null),this.value=T(()=>this.selected()?.value),this.label=T(()=>this.selected()?.label),this.disabled=C(!1),this.touched=C(!1),p(this,e,i=>{}),p(this,s,()=>{})}selectValueByIndex(i){_(this,o,M).call(this,this.options()[i])}selectValue(i){let y=this.options().find(S=>S.value===i);_(this,o,M).call(this,y)}resetValue(){_(this,o,M).call(this,null)}registerOnChange(i){p(this,e,i)}registerOnTouched(i){p(this,s,i)}setDisabledState(i){this.disabled.set(i)}writeValue(i){console.log(i),this.selectValue(i)}markAsDirty(){this.touched()||(this.touched.set(!0),h(this,s).call(this))}};e=new WeakMap,s=new WeakMap,o=new WeakSet,M=function(i){this.disabled()||(this.markAsDirty(),this.selected.set(i),h(this,e).call(this,this.value()))},n.\u0275fac=function(y){return new(y||n)},n.\u0275dir=j({type:n,selectors:[["","appSelector",""]],inputs:{options:[1,"options"]},standalone:!0,features:[z([{provide:W,useExisting:n,multi:!0}])]});let t=n;return t})(),ke=(()=>{let e=class e{constructor(){this.change=w()}onChange(o){this.change.emit("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-select"]],outputs:{change:"change"},standalone:!0,features:[v],decls:5,vars:0,consts:[[3,"change"],["value","1"],["value","2"]],template:function(r,n){r&1&&(a(0,"select",0),G("change",function(i){return n.onChange(i)}),a(1,"option",1),f(2,"1"),l(),a(3,"option",2),f(4,"2"),l()())},encapsulation:2});let t=e;return t})();export{oe as a,Te as b,Re as c,ke as d};
